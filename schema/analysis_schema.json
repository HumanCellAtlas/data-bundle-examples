{
   "additionalProperties" : true,
   "properties" : {
      "tasks" : {
         "description" : "Descriptions of tasks in the workflow.",
         "type" : "array",
         "items" : {
            "type" : {
               "$ref" : "#/definitions/task"
            }
         }
      },
      "pipeline" : {
         "description" : "A URI to a versioned workflow and versioned execution environment in a GA4GH compliant repository.",
         "type" : "string",
         "format" : "uri"
      },
      "outputs" : {
         "items" : {
            "type" : {
               "$ref" : "#/definitions/file"
            }
         },
         "description" : "Output generated by the pipeline run.",
         "type" : "array"
      },
      "input_bundles" : {
         "items" : {
           "type" : "string",
           "format" : "uri"
         },
         "description" : "The input bundles used in this analysis run.",
         "type" : "array"
      },
      "timestamp_stop_utc" : {
         "type" : "date-time",
         "description" : "Terminal stop time of the full pipeline."
      },
      "timestamp_start_utc" : {
         "description" : "Initial start time of the full pipeline.",
         "type" : "date-time"
      },
      "inputs" : {
         "items" : {
            "type" : {
               "$ref" : "#/definitions/parameter"
            }
         },
         "type" : "array",
         "description" : "Input parameters used in the pipeline run, these can be files or string values (settings)."
      },
      "analysis_run_type" : {
         "enum" : [
            "run",
            "copy-forward"
         ],
         "description" : "Indicator if the run was a actually ran or just copied forward as an optimization.",
         "type" : "string"
      },
      "reference_bundle" : {
         "description" : "Bundle containing the reference used in running the pipeline.",
          "type" : "string",
          "format" : "uri"
      }
   },
   "type" : "object",
   "definitions" : {
      "core" : {
         "additionalProperties" : false,
         "required" : [
            "type",
            "schema_url",
            "schema_version",
            "core_id"
          ],
          "properties" : {
            "type" : "string",
            "schema_version" : "string",
            "schema_url" : "string",
            "core_id" : "string"
          },
          "type" : "object"
      },
      "file" : {
         "additionalProperties" : false,
         "required" : [
            "md5",
            "file_path",
            "format"
         ],
         "properties" : {
            "format" : "string",
            "file_path" : "string",
            "md5" : "string"
         },
         "type" : "object"
      },
      "task" : {
         "properties" : {
            "start_time" : "date-time",
            "stop_time" : "date-time",
            "name" : "string",
            "log_err" : "striing",
            "log_out" : "string",
            "disk_size" : "string",
            "docker_image" : "string",
            "cpus" : "int",
            "memory" : "string",
            "zone" : "string"
         },
         "required" : [
            "name",
            "start_time",
            "stop_time",
            "log",
            "disk_size",
            "docker_image",
            "cpus",
            "memory",
            "zone"
         ],
         "additionalProperties" : false,
         "type" : "object"
      },
      "parameter" : {
         "additionalProperties" : false,
         "required" : [
            "name",
            "value"
         ],
         "properties" : {
            "md5" : "string",
            "value" : "string",
            "name" : "string"
         },
         "type" : "object"
      }
   },
   "$schema" : "https://json-schema.org/draft-04/schema#",
   "required" : [
     "core",
     "timestamp_start_utc",
     "timestamp_stop_utc",
     "computational_method",
     "input_bundles",
     "reference_bundle",
     "analysis_id",
     "analysis_run_type",
     "metadata_schema",
     "tasks",
     "inputs",
     "outputs"
   ]
}
